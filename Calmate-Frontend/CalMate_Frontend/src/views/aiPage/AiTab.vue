<template>
  <div class="recommendation-page">
    <div class="recommendation-header">
      <div class="icon-wrapper-24">
      </div>
      <div class="header-text-wrapper">
        <div class="title-wrapper">
          <div class="title">AI ë§ì¶¤ ì¶”ì²œ</div>
        </div>
        <div class="subtitle-wrapper">
          <div class="subtitle">ë‹¹ì‹ ì˜ ê¸°ì´ˆëŒ€ì‚¬ëŸ‰ê³¼ ëª©í‘œì— ë§ì¶˜ ì‹ë‹¨ ë° ìš´ë™ ì¶”ì²œ</div>
        </div>
      </div>
    </div>
    <div class="recommendation-content">
      <div class="tabs-container">
        <router-link to="/main/ai/diet" class="tab" active-class="active">
          <div class="tab-text">ì‹ë‹¨ ì¶”ì²œ</div>
        </router-link>
        <router-link to="/main/ai/exercise" class="tab" active-class="active">
          <div class="tab-text">ìš´ë™ ì¶”ì²œ</div>
        </router-link>
        </div>
      <div class="tab-content-wrapper">
        <div class="content-header">
          <div class="icon-wrapper-20">
          </div>
          <div class="content-title">AI ì¶”ì²œ í”Œëœ</div>
        </div>
        <div v-if="route.path === '/main/ai' || route.path === '/main/ai/'" class="container">
          <img class="main-image" src="@/assets/images/ai/aidietbot.png" alt="placeholder image" />
          <div class="description">
            Calmateì˜ AIì™€ í•¨ê»˜ ë‹¹ì‹ ì—ê²Œ ë”± ë§ëŠ” ê±´ê°• ê´€ë¦¬ í”Œëœì„ ë§Œë‚˜ë³´ì„¸ìš”!
          </div>
        </div>
        <router-view />
      </div>
    </div>
  </div>
</template>

<script setup>
import { useRoute } from 'vue-router';
import { useUserStore } from '@/stores/user';
const userStore = useUserStore();
const route = useRoute();

const memberId = userStore.userId;
const memberGender = userStore.gender;
const memberWeight = userStore.weight;
const memberHeight = userStore.height;
const memberBodyMetrics = userStore.bodyMetrics;

</script>

<style scoped>

/* 1) í˜ì´ì§€ ì»¨í…Œì´ë„ˆ: ê³ ì •í­ ì œê±°, ë¶€ëª¨(main.content) í­ì„ ë”°ë¥´ë„ë¡ */
.recommendation-page {
  width: 100%;
  max-width: 100%;          /* í•„ìš”í•˜ë©´ 960~1200px ê°™ì€ maxë„ ê°€ëŠ¥ */
  padding: 32px 20px;       /* main.contentì˜ íŒ¨ë”©(20px)ê³¼ ì¡°í™” */
  background: white;
  display: flex;
  flex-direction: column;

  gap: 24px;
  box-sizing: border-box;
  margin: 0 auto;           /* ì¤‘ì•™ ì •ë ¬ */
}

/* 2) ì½˜í…ì¸  ë˜í¼: ë¶€ëª¨ íë¦„ì„ ê·¸ëŒ€ë¡œ ë”°ë¥´ê¸° */
.recommendation-content {
  width: 100%;
  display: flex;
  flex-direction: column;

  gap: 8px;

}

/* 3) íƒ­ ë°”: ê³ ì •í­/absolute ì œê±° â†’ gridë¡œ 2ë“±ë¶„ */
.tabs-container {
  width: 100%;
  min-height: 36px;
  background: #ececf0;
  border-radius: 14px;
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  align-items: center;
  padding: 4px;
  box-sizing: border-box;
}

.tab {
  height: 28px;
  padding: 4px 8px;
  border-radius: 14px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  gap: 6px;
  cursor: pointer;
  /* ğŸ’¡ 1. ë°‘ì¤„ ì œê±° */
  text-decoration: none; 
  /* ğŸ’¡ 2. <a> íƒœê·¸ì˜ ê¸°ë³¸ íŒŒë€ìƒ‰ì„ ë¬´íš¨í™”í•˜ê³  ë¶€ëª¨ ìŠ¤íƒ€ì¼ ìƒì† */
  color: inherit;
}

.tab.active {

  background: white;
}

.tab:not(.active) {
  background: transparent;
}

/* 4) íƒ­ ì½˜í…ì¸ : absolute ì œê±°, ë‚´ë¶€ íŒ¨ë”©ìœ¼ë¡œ ì—¬ë°± í™•ë³´ */
.tab-content-wrapper {
  width: 100%;
  background: white;
  border-radius: 14px;
  outline: 1px rgba(0, 0, 0, 0.1) solid;
  box-sizing: border-box;
  padding: 24px;        /* ê¸°ì¡´ left/top ëŒ€ì‹  íŒ¨ë”©ìœ¼ë¡œ */
  position: relative;     /* absolute â†’ static */
}

/* 5) í—¤ë” ë¼ì¸: absolute ì œê±°í•˜ê³  ì¢Œìš° ì •ë ¬ */
.content-header {
  width: 100%;
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 16px;  /* ê¸°ì¡´ top:25px ëŒ€ì²´ */
  position: static;
}
.icon-wrapper-20 { position: static; }
.content-title {
  position: static;
  color: #0a0a0a;
  font-size: 16px;
  font-weight: 400;
  line-height: 16px;
}

/* 6) ë³¸ë¬¸(í”Œëœ) ì˜ì—­: absolute/ê³ ì • height ì œê±° */
.plan-wrapper {
  width: 100%;
  position: static;
  display: flex;
  flex-direction: column;

  gap: 16px;
  padding: 0;           /* ì¢Œìš° ì—¬ë°±ì€ tab-content-wrapperê°€ ë‹´ë‹¹ */
  height: auto;
  box-sizing: border-box;
}

/* 7) ì¹´ë“œ/í…ìŠ¤íŠ¸: stretch ìœ ì§€í•˜ë˜ overflow ë°©ì§€ */
.plan-card {
  align-self: stretch;
  padding: 17px;
  background: rgba(3, 2, 19, 0.05);
  border-radius: 10px;
  outline: 1px #030213 solid;
  outline-offset: -1px;

  display: flex;

  flex-direction: column;
  gap: 12px;
}

/* 8) í”Œëœ ìƒë‹¨ ì„¤ëª…: ê³ ì •í­ ì œê±°, ìë™ ì¤„ë°”ê¿ˆ */
.plan-header { display: flex; align-items: flex-start; justify-content: space-between; }
.plan-title-info { height: auto; display: flex; flex-direction: column; }
.plan-title-wrapper { height: auto; position: static; }
.plan-title { position: static; }

.plan-info-wrapper,
.plan-info {
  width: auto;
  max-width: 100%;
  position: static;
  color: #717182;

  font-size: 16px;

  line-height: 24px;
}

/* 9) ì‹ë‹¨ ë¦¬ìŠ¤íŠ¸ëŠ” ê¸°ì¡´ flex íë¦„ ìœ ì§€ */
.meal-list { display: flex; flex-direction: column; gap: 8px; }
.meal-card { align-self: stretch; padding: 12px; background: #ececf0; border-radius: 4px; display: flex; flex-direction: column; gap: 4px; }
.meal-header { display: flex; justify-content: space-between; align-items: center; }
.meal-kcal-wrapper { position: static; }
.meal-kcal { position: static; white-space: nowrap; }
.meal-items { display: flex; flex-direction: column; gap: 4px; }
.meal-item-wrapper { height: auto; position: static; }
.meal-item-text { position: static; color: #717182; }

/* 10) ê¸°íƒ€ ìì˜í•œ ì ˆëŒ€/ê³ ì • ì¹˜ìˆ˜ ì œê±° */
.header-text-wrapper { height: auto; display: inline-flex; flex-direction: column; }
.title-wrapper, .subtitle-wrapper { height: auto; position: static; }
.title {
  color: #030213;
  font-size: 18px;
  font-weight: 700;
  line-height: 26px;
}
.subtitle { 
  color: #717182;
  font-size: 16px;

  line-height: 24px;
  position: static; 
}
.footer-text-wrapper { position: static; width: auto; }
.footer-text { position: static; max-width: 100%; }

.container {
  display: flex;
  flex-direction: column;
  align-items: center; /* ê°€ìš´ë° ì •ë ¬ */
  justify-content: center; /* ê°€ìš´ë° ì •ë ¬ */
  padding: 40px 20px;
  background: #ffffff;
  border-radius: 10px;
  outline: 1px #e0e0e0 solid;
  gap: 16px;
  min-height: 300px; /* ì ì ˆí•œ ìµœì†Œ ë†’ì´ */
}
.main-image {
  width: 150px; /* ì´ë¯¸ì§€ í¬ê¸° (ì¡°ì ˆ í•„ìš”) */
  height: 150px; /* ì´ë¯¸ì§€ í¬ê¸° (ì¡°ì ˆ í•„ìš”) */
  object-fit: contain;
}
.description {
  color: #717182;
  font-size: 16px;

  line-height: 24px;
  text-align: center;
}

</style>
